<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: Changelog
    &mdash; Documentation by YARD 0.9.37
</title>
  <link rel="stylesheet" href="/documentation/3.13/rspec-mocks/css/style.css" type="text/css" />
  <link rel="stylesheet" href="/documentation/3.13/rspec-mocks/css/common.css" type="text/css" />
<script type="text/javascript">
  pathId = "Changelog";
  relpath = '';
</script>
  <script type="text/javascript" charset="utf-8" src="/documentation/3.13/rspec-mocks/js/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="/documentation/3.13/rspec-mocks/js/app.js"></script>
  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>
    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: Changelog</span>
</div>
        <div id="search">
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
</div>
        <div class="clear"></div>
      </div>
      <div id="content"><div id='filecontents'><h3 id="development">Development</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.13.1...3-13-maintennace">Full Changelog</a></p>
<h3 id="3-13-1-2024-05-08">3.13.1 / 2024-05-08</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.13.0...v3.13.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Use <code>RSpec::Support::Mutex</code> in <code>RSpec::Mocks::Proxy</code> to avoid issues from
stubbing <code>::Mutex#new</code>. (Eric Mueller, #1575)</li>
</ul>
<h3 id="3-13-0-2024-02-04">3.13.0 / 2024-02-04</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.7...v3.13.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Add an <code>array_excluding</code> matcher for arguments. (Zane Wolfgang Pickett, #1528)</li>
</ul>
<h3 id="3-12-7-2024-02-04">3.12.7 / 2024-02-04</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.6...v3.12.7">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Reduce allocations from &quot;any_instance&quot; style mocks. (Carlos Palhares, #1479)</li>
</ul>
<h3 id="3-12-6-2023-07-11">3.12.6 / 2023-07-11</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.5...v3.12.6">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix an issue with <code>and_call_original</code> when using the <code>method_missing</code> fallback
with keyword arguments. (Igor Drozdov, #1552)</li>
</ul>
<h3 id="3-12-5-2023-03-30">3.12.5 / 2023-03-30</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.4...v3.12.5">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix compatibility issue with Rails where active_support monkey patches <code>with</code>
when using any instance. (Lachlan Sylvester, #1540)</li>
</ul>
<h3 id="3-12-4-2023-03-12">3.12.4 / 2023-03-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.3...v3.12.4">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix an issue with asserting that Array#reverse is never called. (Brad Trick, #1533)</li>
<li>Fix compatibility issue with Rails where active_support monkey patches <code>with</code>.
(Jean Boussier, #1531, #1534)</li>
</ul>
<h3 id="3-12-3-2023-01-17">3.12.3 / 2023-01-17</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.2...v3.12.3">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix keyword delegation in <code>send</code> for verifying doubles on Ruby 3.
(Charlie Honig, #1485)</li>
</ul>
<h3 id="3-12-2-2023-01-07">3.12.2 / 2023-01-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.1...v3.12.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix implementation blocks for mocks using keyword arguments on Ruby 3.2.0.
(Adam Steel, #1508)</li>
<li>Fix keyword argument assertions when mocking using <code>with</code> on Ruby 3.2.0.
(Slava Kardakov, Benoit Tigeot, Phil Pirozhkov, Benoit Daloze, #1514)</li>
</ul>
<h3 id="3-12-1-2022-12-10">3.12.1 / 2022-12-10</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.12.0...v3.12.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Remove empty diff marker when a diff only contains console codes. (Jon Rowe, #1506)</li>
<li>Show keyword vs hash diff marker when arguments are not <code>==</code> (Jon Rowe, #1506)</li>
<li>Change check to detect frozen objects to rescue errors rather than
pre-empting by checking <code>frozen?</code> due to some objects mis-behaving.
(Keegan Roth, #1401)</li>
<li>Prevent unfulfilled expectations using <code>expect_any_instance_of</code> across a class
inheritance boundary from raising rather than failing. (Jon Rowe, #1496)</li>
<li>Prevent a misleading error message when using <code>allow(...).not_to</code> with
unsupported matchers. (Phil Pirozhkov, #1503)</li>
</ul>
<h3 id="3-12-0-2022-10-26">3.12.0 / 2022-10-26</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.11.2...v3.12.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Improve diff output when diffing keyword arguments against hashes.
(Jean Boussier, #1461)</li>
</ul>
<h3 id="3-11-2-2022-10-25">3.11.2 / 2022-10-25</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.11.1...v3.11.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Use the original implementation of <code>Class.new</code> to detect overridden definitions
of <code>new</code> rather than the owner, fixing detection of &quot;double aliased&quot; methods
in Ruby 3 and above. (Benoit Daloze, #1470, #1476)</li>
<li>Support keyword argument semantics when constraining argument expectations using
<code>with</code> on Ruby 3.0+ with <code>instance_double</code> (Andrii Malyshko, #1473)</li>
</ul>
<h3 id="3-11-1-2022-03-31">3.11.1 / 2022-03-31</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.11.0...v3.11.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Add extra <code>ruby2_keywords</code> calls to properly designate methods using
<code>*args</code> to pass keyword around, fixes an issue with TruffleRuby.
(Benoit Daloze, #1464)</li>
</ul>
<h3 id="3-11-0-2022-02-09">3.11.0 / 2022-02-09</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.10.3...v3.11.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Add <code>and_invoke</code> implementation for configuring responses to <code>receive</code>
(and <code>receive_messages</code>) with multiple callable objects. (Kyle Smith, #1411)</li>
</ul>
<h3 id="3-10-3-2022-01-28">3.10.3 / 2022-01-28</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.10.2...v3.10.3">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Suppress warning by setting <code>$VERBOSE</code> to nil. (Nobuyoshi Nakada, #1414)</li>
<li>Support keyword argument semantics when constraining argument expectations using
<code>with</code> on Ruby 3.0+ (Yusuke Endoh, #1394)</li>
</ul>
<h3 id="3-10-2-2021-01-27">3.10.2 / 2021-01-27</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.10.1...v3.10.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Support keyword arguments with <code>and_call_original</code> on Ruby 3.0.
(Bryan Powell, #1385)</li>
<li><code>RSpec::Mocks::Constant#previously_defined?</code> is now always a boolean.
(Phil Pirozhkov, #1397)</li>
<li>Support keyword arguments on Ruby 3.0 when used with <code>expect_any_instance_of</code>
or <code>allow_any_instance_of</code> with <code>and_call_original</code>.
(Jess Hottenstein, #1407)</li>
</ul>
<h3 id="3-10-1-2020-12-27">3.10.1 / 2020-12-27</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.10.0...v3.10.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Issue <code>ArgumentError</code> rather than <code>TypeError</code> when unsupported methods on
unsupported objects are attempted to be stubbed. (@zhisme, #1357)</li>
</ul>
<h3 id="3-10-0-2020-10-30">3.10.0 / 2020-10-30</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.9.1...v3.10.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Add the ability to set a custom error generator in <code>MessageExpectation</code>.
This will allow rspec-expectations to inject a custom failure message.
(Benoit Tigeot and Nicolas Zermati, #1312)</li>
<li>Return the result of the block passed to <code>RSpec::Mocks.with_temporary_scope</code>
when block run. (@expeehaa, #1329)</li>
</ul>
<h3 id="3-9-1-2019-12-31">3.9.1 / 2019-12-31</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.9.0...v3.9.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Trigger <code>RSpec::Mocks.configuration.verifying_double_callbacks</code> when using
<code>allow_any_instance_of</code> or <code>expect_any_instance_of</code> (Daniel Orner, #1309)</li>
</ul>
<h3 id="3-9-0-2019-10-07">3.9.0 / 2019-10-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.8.2...v3.9.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Improve thread safety of message expectations by using Mutex to prevent
deadlocking errors. (Ry Biesemeyer, #1236)</li>
<li>Add the ability to use <code>time</code> as an alias for <code>times</code>. For example:
<code>expect(Class).to receive(:method).exactly(1).time</code>.
(Pistos, Benoit Tigeot, #1271)</li>
</ul>
<h3 id="3-8-2-2019-10-02">3.8.2 / 2019-10-02</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.8.1...v3.8.2">Full Changelog</a></p>
<ul>
<li>Allow <code>array_including</code> argument matchers to be nested.
(Emmanuel Delmas, #1291)</li>
</ul>
<h3 id="3-8-1-2019-06-13">3.8.1 / 2019-06-13</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.8.0...v3.8.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Ensure stubbing methods does not change their visibility.
(Kevin Boschert, #1277)</li>
</ul>
<h3 id="3-8-0-2018-08-04">3.8.0 / 2018-08-04</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.7.0...v3.8.0">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Issue error when encountering invalid &quot;counted&quot; negative message expectations.
(Sergiy Yarinovskiy, #1212)</li>
<li>Ensure <code>allow_any_instance_of</code> and <code>expect_any_instance_of</code> can be temporarily
supressed. (Jon Rowe, #1228)</li>
<li>Ensure <code>expect_any_instance_of(double).to_not have_received(:some_method)</code>
fails gracefully (as its not supported) rather than issuing a <code>NoMethodError</code>.
(Maxim Krizhanovsky, #1231)</li>
</ul>
<h3 id="3-7-0-2017-10-17">3.7.0 / 2017-10-17</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.6.0...v3.7.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Improve compatibility with <code>--enable-frozen-string-literal</code> option
on Ruby 2.3+. (Pat Allan, #1165)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>hash_including</code> and <code>hash_excluding</code> so that they work against
subclasses of <code>Hash</code>. (Aaron Rosenberg, #1167)</li>
</ul>
<h3 id="3-6-0-2017-05-04">3.6.0 / 2017-05-04</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.6.0.beta2...v3.6.0">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix &quot;instance variable @color not initialized&quot; warning when using
rspec-mocks without rspec-core. (Myron Marston, #1142)</li>
<li>Restore aliased module methods properly when stubbing on 1.8.7.
(Samuel Giddins, #1144)</li>
<li>Allow a message chain expectation to be constrained by argument(s).
(Jon Rowe, #1156)</li>
</ul>
<h3 id="3-6-0-beta2-2016-12-12">3.6.0.beta2 / 2016-12-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.6.0.beta1...v3.6.0.beta2">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Add new <code>without_partial_double_verification { }</code> API that lets you
temporarily turn off partial double verification for an example.
(Jon Rowe, #1104)</li>
</ul>
<h3 id="3-6-0-beta1-2016-10-09">3.6.0.beta1 / 2016-10-09</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.5.0...v3.6.0.beta1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Return the test double instance form <code>#freeze</code> (Alessandro Berardi, #1109)</li>
<li>Allow the special logic for stubbing <code>new</code> to work when <code>&lt;Class&gt;.method</code> has
been redefined. (Proby, #1119)</li>
</ul>
<h3 id="3-5-0-2016-07-01">3.5.0 / 2016-07-01</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.5.0.beta4...v3.5.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Provides a nice string representation of
<code>RSpec::Mocks::MessageExpectation</code> (Myron Marston, #1095)</li>
</ul>
<h3 id="3-5-0-beta4-2016-06-05">3.5.0.beta4 / 2016-06-05</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.5.0.beta3...v3.5.0.beta4">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Add <code>and_throw</code> to any instance handling. (Tobias Bühlmann, #1068)</li>
</ul>
<h3 id="3-5-0-beta3-2016-04-02">3.5.0.beta3 / 2016-04-02</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.5.0.beta2...v3.5.0.beta3">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Issue warning when attempting to use unsupported
<code>allow(...).to receive(...).ordered</code>. (Jon Rowe, #1000)</li>
<li>Add <code>rspec/mocks/minitest_integration</code>, to properly integrate rspec-mocks
with minitest. (Myron Marston, #1065)</li>
</ul>
<h3 id="3-5-0-beta2-2016-03-10">3.5.0.beta2 / 2016-03-10</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.5.0.beta1...v3.5.0.beta2">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Improve error message displayed when using <code>and_wrap_original</code> on pure test
doubles. (betesh, #1063)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix issue that prevented <code>receive_message_chain(...).with(...)</code> working
correctly on &quot;any instance&quot; mocks. (Jon Rowe, #1061)</li>
</ul>
<h3 id="3-5-0-beta1-2016-02-06">3.5.0.beta1 / 2016-02-06</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.4.1...v3.5.0.beta1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Allow <code>any_instance_of(...).to receive(...)</code> to use <code>and_yield</code> multiple
times. (Kilian Cirera Sant, #1054)</li>
<li>Allow matchers which inherit from <code>rspec-mocks</code> matchers to be used for
<code>allow</code>. (Andrew Kozin, #1056)</li>
<li>Prevent stubbing <code>respond_to?</code> on partial doubles from causing infinite
recursion. (Jon Rowe, #1013)</li>
<li>Prevent aliased methods from disapearing after being mocked with
<code>any_instance</code> (regression from #1043). (Joe Rafaniello, #1060)</li>
</ul>
<h3 id="3-4-1-2016-01-10">3.4.1 / 2016-01-10</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.4.0...v3.4.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>any_instance</code> to work properly on Ruby 2.3. (Joe Rafaniello, #1043)</li>
</ul>
<h3 id="3-4-0-2015-11-11">3.4.0 / 2015-11-11</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.3.2...v3.4.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Make <code>expect(...).to have_received</code> work without relying upon
rspec-expectations. (Myron Marston, #978)</li>
<li>Add option for failing tests when expectations are set on <code>nil</code>.
(Liz Rush, #983)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>have_received { ... }</code> so that any block passed when the message
was received is forwarded to the <code>have_received</code> block. (Myron Marston, #1006)</li>
<li>Fix infinite loop in error generator when stubbing <code>respond_to?</code>.
(Alex Dowad, #1022)</li>
<li>Fix issue with using <code>receive</code> on subclasses (at a class level) with 1.8.7.
(Alex Dowad, #1026)</li>
</ul>
<h3 id="3-3-2-2015-07-15">3.3.2 / 2015-07-15</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.3.1...v3.3.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Prevent thread deadlock errors during proxy creation (e.g. when using
<code>before_verifying_doubles</code> callbacks). (Jon Rowe, #980, #979)</li>
</ul>
<h3 id="3-3-1-2015-06-19">3.3.1 / 2015-06-19</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.3.0...v3.3.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix bug in <code>before_verifying_double</code> callback logic that caused it to be called
once for each class in the ancestor list when mocking or stubbing a class. Now
it is only called for the mocked or stubbed class, as you would expect. (Sam
Phippen, #974)</li>
</ul>
<h3 id="3-3-0-2015-06-12">3.3.0 / 2015-06-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.2.1...v3.3.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>When stubbing <code>new</code> on <code>MyClass</code> or <code>class_double(MyClass)</code>, use the
method signature from <code>MyClass#initialize</code> to verify arguments.
(Myron Marston, #886)</li>
<li>Use matcher descriptions when generating description of received arguments
for mock expectation failures. (Tim Wade, #891)</li>
<li>Avoid loading <code>stringio</code> unnecessarily. (Myron Marston, #894)</li>
<li>Verifying doubles failure messages now distinguish between class and instance
level methods. (Tim Wade, #896, #908)</li>
<li>Improve mock expectation failure messages so that it combines both
number of times and the received arguments in the output. (John Ceh, #918)</li>
<li>Improve how test doubles are represented in failure messages.
(Siva Gollapalli, Myron Marston, #932)</li>
<li>Rename <code>RSpec::Mocks::Configuration#when_declaring_verifying_double</code> to
<code>RSpec::Mocks::Configuration#before_verifying_doubles</code> and utilise when
verifying partial doubles. (Jon Rowe, #940)</li>
<li>Use rspec-support&#39;s <code>ObjectFormatter</code> for improved formatting of
arguments in failure messages so that, for example, full time
precisions is displayed for time objects. (Gavin Miller, Myron Marston, #955)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Ensure expectations that raise eagerly also raise during RSpec verification.
This means that if exceptions are caught inside test execution the test will
still fail. (Sam Phippen, #884)</li>
<li>Fix <code>have_received(msg).with(args).exactly(n).times</code> and
<code>receive(msg).with(args).exactly(n).times</code> failure messages
for when the message was received the wrong number of times with
the specified args, and also received additional times with other
arguments. Previously it confusingly listed the arguments as being
mis-matched (even when the double was allowed to receive with any
args) rather than listing the count. (John Ceh, #918)</li>
<li>Fix <code>any_args</code>/<code>anything</code> support so that we avoid calling <code>obj == anything</code>
on user objects that may have improperly implemented <code>==</code> in a way that
raises errors. (Myron Marston, #924)</li>
<li>Fix edge case involving stubbing the same method on a class and a subclass
which previously hit a <code>NoMethodError</code> internally in RSpec. (Myron Marston #954)</li>
<li>Fix edge case where the message received count would be incremented multiple
times for one failure. (Myron Marston, #957)</li>
<li>Fix failure messages for when spies received the expected message with
different arguments and also received another message. (Maurício Linhares, #960)</li>
<li>Silence whitespace-only diffs. (Myron Marston, #969)</li>
</ul>
<h3 id="3-2-1-2015-02-23">3.2.1 / 2015-02-23</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.2.0...v3.2.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Add missing <code>rspec/support/differ</code> require so that rspec-mocks can be
used w/o rspec-expectations (which also loads the differ and hided the
fact we forgot to require it). (Myron Marston, #893)</li>
<li>Revert tracking of received arg mutation (added in 3.2.0 to provide an
error in a situation we can&#39;t support) as our implementation has side
effects on non-standard objects and there&#39;s no solution we could come
up with that always works. (Myron Marston, #900)</li>
</ul>
<h3 id="3-2-0-2015-02-03">3.2.0 / 2015-02-03</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.1.3...v3.2.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Treat <code>any_args</code> as an arg splat, allowing it to match an arbitrary
number of args at any point in an arg list. (Myron Marston, #786)</li>
<li>Print diffs when arguments in mock expectations are mismatched.
(Sam Phippen, #751)</li>
<li>Support names for verified doubles (<code>instance_double</code>, <code>instance_spy</code>,
<code>class_double</code>, <code>class_spy</code>, <code>object_double</code>, <code>object_spy</code>). (Cezary
Baginski, #826)</li>
<li>Make <code>array_including</code> and <code>hash_including</code> argument matchers composable.
(Sam Phippen, #819)</li>
<li>Make <code>allow_any_instance_of(...).to receive(...).and_wrap_original</code>
work. (Ryan Fitzgerald, #869)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Provide a clear error when users wrongly combine <code>no_args</code> with
additional arguments (e.g. <code>expect().to receive().with(no_args, 1)</code>).
(Myron Marston, #786)</li>
<li>Provide a clear error when users wrongly use <code>any_args</code> multiple times in the
same argument list (e.g. <code>expect().to receive().with(any_args, 1, any_args)</code>.
(Myron Marston, #786)</li>
<li>Prevent the error generator from using user object #description methods.
See <a href="https://github.com/rspec/rspec-mocks/issues/685">#685</a>.
(Sam Phippen, #751)</li>
<li>Make verified doubles declared as <code>(instance|class)_double(SomeConst)</code>
work properly when <code>SomeConst</code> has previously been stubbed.
<code>(instance|class)_double(&quot;SomeClass&quot;)</code> already worked properly.
(Myron Marston, #824)</li>
<li>Add a matcher description for <code>receive</code>, <code>receive_messages</code> and
<code>receive_message_chain</code>. (Myron Marston, #828)</li>
<li>Validate invocation args for null object verified doubles.
(Myron Marston, #829)</li>
<li>Fix <code>RSpec::Mocks::Constant.original</code> when called with an invalid
constant to return an object indicating the constant name is invalid,
rather than blowing up. (Myron Marston, #833)</li>
<li>Make <code>extend RSpec::Mocks::ExampleMethods</code> on any object work properly
to add the rspec-mocks API to that object. Previously, <code>expect</code> would
be undefined. (Myron Marston, #846)</li>
<li>Fix <code>require &#39;rspec/mocks/standalone&#39;</code> so that it only affects <code>main</code>
and not every object. It&#39;s really only intended to be used in a REPL
like IRB, but some gems have loaded it, thinking it needs to be loaded
when using rspec-mocks outside the context of rspec-core.
(Myron Marston, #846)</li>
<li>Prevent message expectations from being modified by customization methods
(e.g. <code>with</code>) after they have been invoked. (Sam Phippen and Melanie Gilman, #837)</li>
<li>Handle cases where a method stub cannot be removed due to something
external to RSpec monkeying with the method definition. This can
happen, for example, when you <code>file.reopen(io)</code> after previously
stubbing a method on the <code>file</code> object. (Myron Marston, #853)</li>
<li>Provide a clear error when received message args are mutated before
a <code>have_received(...).with(...)</code> expectation. (Myron Marston, #868)</li>
</ul>
<h3 id="3-1-3-2014-10-08">3.1.3 / 2014-10-08</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.1.2...v3.1.3">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Correct received messages count when used with <code>have_received</code> matcher.
(Jon Rowe, #793)</li>
<li>Provide a clear error message when you use <code>allow_any_instance_of(...)</code> or
<code>expect_any_instance_of(...)</code> with the <code>have_received</code> matcher (they are
not intended to be used together and previously caused an odd internal
failure in rspec-mocks). (Jon Rowe, #799).</li>
<li>Fix verified double <code>with</code> verification so that it applies to method
stubs. (Myron Marston, #790)</li>
</ul>
<h3 id="3-1-2-2014-09-26">3.1.2 / 2014-09-26</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.1.1...v3.1.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Provide a clear error message when you use <code>allow(...)</code> with the
<code>have_received</code> matcher (they are not intended to be used together
and previously caused an odd internal failure in rspec-mocks). (Jon Rowe, #788).</li>
</ul>
<h3 id="3-1-1-2014-09-18">3.1.1 / 2014-09-18</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.1.0...v3.1.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Prevent included modules being detected as prepended modules on Ruby 2.0
when using <code>any_instance_of(...)</code>. (Tony Novak, #781)</li>
</ul>
<h3 id="3-1-0-2014-09-04">3.1.0 / 2014-09-04</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.4...v3.1.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Add spying methods (<code>spy</code>, <code>ìnstance_spy</code>, <code>class_spy</code> and <code>object_spy</code>)
which create doubles as null objects for use with spying in testing. (Sam
Phippen, #671)</li>
<li><code>have_received</code> matcher will raise &quot;does not implement&quot; errors correctly when
used with verifying doubles and partial doubles. (Xavier Shay, #722)</li>
<li>Allow matchers to be used in place of keyword arguments in <code>with</code>
expectations. (Xavier Shay, #726)</li>
<li>Add <code>thrice</code> modifier to message expectation interface as a synonym
for <code>exactly(3).times</code>. (Dennis Taylor, #753)</li>
<li>Add more <code>thrice</code> synonyms e.g. <code>.at_least(:thrice)</code>, <code>.at_most(:thrice)</code>,
<code>receive(...).thrice</code> and <code>have_received(...).thrice</code>. (Jon Rowe, #754)</li>
<li>Add <code>and_wrap_original</code> modifier for partial doubles to mutate the
response from a method. (Jon Rowe, #762)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Remove <code>any_number_of_times</code> from <code>any_instance</code> recorders that were
erroneously causing mention of the method in documentation. (Jon Rowe, #760)</li>
<li>Prevent included modules being detected as prepended modules on Ruby 2.0.
(Eugene Kenny, #771)</li>
</ul>
<h3 id="3-0-4-2014-08-14">3.0.4 / 2014-08-14</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.3...v3.0.4">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Restore <code>kind_of(x)</code> to match using <code>arg.kind_of?(x)</code> (like RSpec 2)
rather than <code>x === arg</code>. (Jon Rowe, #750)</li>
</ul>
<h3 id="3-0-3-2014-07-21">3.0.3 / 2014-07-21</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.2...v3.0.3">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li><code>have_received</code> matcher will raise &quot;does not implement&quot; errors correctly when
used with verifying doubles and partial doubles. (Xavier Shay, #722)</li>
<li>Make <code>double.as_null_object.dup</code> and <code>double.as_null_object.clone</code>
make the copies be null objects. (Myron Marston, #732)</li>
<li>Don&#39;t inadvertently define <code>BasicObject</code> in 1.8.7. (Chris Griego, #739)</li>
</ul>
<h3 id="3-0-2-2014-06-19">3.0.2 / 2014-06-19</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.1...v3.0.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix edge case that triggered &quot;can&#39;t add a new key into hash during
iteration&quot; during mock verification. (Sam Phippen, Myron Marston, #711)</li>
<li>Fix verifying doubles so that when they accidentally leak into another
example, they provide the same clear error message that normal doubles
do. (Myron Marston, #718)</li>
<li>Make <code>ordered</code> work with exact receive counts. (Sam Phippen, #713)</li>
</ul>
<h3 id="3-0-1-2014-06-07">3.0.1 / 2014-06-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.0...v3.0.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>receive_message_chain(...)</code> so that it supports <code>with</code> just like
<code>stub_chain</code> did. (Jon Rowe, #697)</li>
<li>Fix regression in <code>expect_any_instance_of</code> so that it expects the
message on <em>any</em> instance rather than on <em>every</em> instance.
(Myron Marston, #699)</li>
</ul>
<h3 id="3-0-0-2014-06-01">3.0.0 / 2014-06-01</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.0.rc1...v3.0.0">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix module prepend detection to work properly on ruby 2.0 for a case
where a module is extended onto itself. (Myron Marston)</li>
<li>Fix <code>transfer_nested_constants</code> option so that transferred constants
get properly reset at the end of the example. (Myron Marston)</li>
<li>Fix <code>config.transfer_nested_constants = true</code> so that you don&#39;t
erroneously get errors when stubbing a constant that is not a module
or a class. (Myron Marston)</li>
<li>Fix regression that caused <code>double(:class =&gt; SomeClass)</code> to later
trigger infinite recursion. (Myron Marston)</li>
<li>Fix bug in <code>have_received(...).with(...).ordered</code> where it was not
taking the args into account when checking the order. (Myron Marston)</li>
<li>Fix bug in <code>have_received(...).ordered</code> where it was wrongly
considering stubs when checking the order. (Myron Marston)</li>
<li>Message expectation matchers now show descriptions from argument
matchers when their expectations aren&#39;t met. (Jon Rowe)</li>
<li>Display warning when encountering <code>TypeError</code> during instance method
staging on 2.0.0-p195, suffers from <a href="https://bugs.ruby-lang.org/issues/8686">https://bugs.ruby-lang.org/issues/8686</a>
too. (Cezar Halmagean).</li>
</ul>
<h3 id="3-0-0-rc1-2014-05-18">3.0.0.rc1 / 2014-05-18</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.0.beta2...v3.0.0.rc1">Full Changelog</a></p>
<p>Breaking Changes for 3.0.0:</p>
<ul>
<li>Remove <code>RSpec::Mocks::TestDouble.extend_onto</code>. (Myron Marston)</li>
<li>Remove <code>RSpec::Mocks::ConstantStubber</code>. (Jon Rowe)</li>
<li>Make monkey-patch of Marshal to support dumping of stubbed objects opt-in.
(Xavier Shay)</li>
</ul>
<p>Enhancements:</p>
<ul>
<li>Instead of crashing when cleaning up stub methods on a frozen object, it now
issues a warning explaining that it&#39;s impossible to clean up the stubs.
(Justin Coyne and Sam Phippen)</li>
<li>Add meaningful descriptions to <code>anything</code>, <code>duck_type</code> and <code>instance_of</code> argument
matchers. (Jon Rowe)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix regression introduced in 3.0.0.beta2 that caused
<code>double.as_null_object.to_str</code> to return the double rather
than a string. (Myron Marston)</li>
<li>Fix bug in <code>expect(dbl).to receive_message_chain(:foo, :bar)</code> where it was
not setting an expectation for the last message in the chain.
(Jonathan del Strother)</li>
<li>Allow verifying partial doubles to have private methods stubbed. (Xavier Shay)</li>
<li>Fix bug with allowing/expecting messages on Class objects which have had
their singleton class prepended to. (Jon Rowe)</li>
<li>Fix an issue with 1.8.7 not running implementation blocks on partial doubles.
(Maurício Linhares)</li>
<li>Prevent <code>StackLevelTooDeep</code> errors when stubbing an <code>any_instance</code> method that&#39;s
accessed in <code>inspect</code> by providing our own inspect output. (Jon Rowe)</li>
<li>Fix bug in <code>any_instance</code> logic that did not allow you to mock or stub
private methods if <code>verify_partial_doubles</code> was configured. (Oren Dobzinski)</li>
<li>Include useful error message when trying to observe an unimplemented method
on an any instance. (Xavier Shay)</li>
<li>Fix <code>and_call_original</code> to work properly when multiple classes in an
inheritance hierarchy have been stubbed with the same method. (Myron Marston)</li>
<li>Fix <code>any_instance</code> so that it updates existing instances that have
already been stubbed. (Myron Marston)</li>
<li>Fix verified doubles so that their class name is included in failure
messages. (Myron Marston)</li>
<li>Fix <code>expect_any_instance_of</code> so that when the message is received
on an individual instance that has been directly stubbed, it still
satisfies the expectation. (Sam Phippen, Myron Marston)</li>
<li>Explicitly disallow using <code>any_instance</code> to mock or stub a method
that is defined on a module prepended onto the class. This triggered
<code>SystemStackError</code> before and is very hard to support so we are not
supporting it at this time. (Myron Marston)</li>
</ul>
<h3 id="3-0-0-beta2-2014-02-17">3.0.0.beta2 / 2014-02-17</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.0.0.beta1...v3.0.0.beta2">Full Changelog</a></p>
<p>Breaking Changes for 3.0.0:</p>
<ul>
<li>Rename <code>RSpec::Mocks::Mock</code> to <code>RSpec::Mocks::Double</code>. (Myron Marston)</li>
<li>Change how to integrate rspec-mocks in other test frameworks. You now
need to include <code>RSpec::Mocks::ExampleMethods</code> in your test context.
(Myron Marston)</li>
<li>Prevent RSpec mocks&#39; doubles and partial doubles from being used outside of
the per-test lifecycle (e.g. from a <code>before(:all)</code> hook). (Sam Phippen)</li>
<li>Remove the <code>host</code> argument of <code>RSpec::Mocks.setup</code>. Instead
<code>RSpec::Mocks::ExampleMethods</code> should be included directly in the scope where
RSpec&#39;s mocking capabilities are used. (Sam Phippen)</li>
<li>Make test doubles raise errors if you attempt to use them after they
get reset, to help surface issues when you accidentally retain
references to test doubles and attempt to reuse them in another
example. (Myron Marston)</li>
<li>Remove support for <code>and_return { value }</code> and <code>and_return</code> without arguments. (Yuji Nakayama)</li>
</ul>
<p>Enhancements:</p>
<ul>
<li>Add <code>receive_message_chain</code> which provides the functionality of the old
<code>stub_chain</code> for the new allow/expect syntax. Use it like so: <code>allow(...).to
receive_message_chain(:foo, :bar, :bazz)</code>. (Sam Phippen).</li>
<li>Change argument matchers to use <code>===</code> as their primary matching
protocol, since their semantics mirror that of a case or rescue statement
(which uses <code>===</code> for matching). (Myron Marston)</li>
<li>Add <code>RSpec::Mocks.with_temporary_scope</code>, which allows you to create
temporary rspec-mocks scopes in arbitrary places (such as a
<code>before(:all)</code> hook). (Myron Marston)</li>
<li>Support keyword arguments when checking arity with verifying doubles.
(Xavier Shay)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix regression in 3.0.0.beta1 that caused <code>double(&quot;string_name&quot; =&gt; :value)</code>
to stop working. (Xavier Shay)</li>
<li>Fix the way rspec-mocks and rspec-core interact so that if users
define a <code>let</code> with the same name as one of the methods
from <code>RSpec::Mocks::ArgumentMatchers</code>, the user&#39;s <code>let</code> takes
precedence. (Michi Huber, Myron Marston)</li>
<li>Fix verified doubles so that their methods match the visibility
(public, protected or private) of the interface they verify
against. (Myron Marston)</li>
<li>Fix verified null object doubles so that they do not wrongly
report that they respond to anything. They only respond to methods
available on the interface they verify against. (Myron Marston)</li>
<li>Fix deprecation warning for use of old <code>:should</code> syntax w/o explicit
config so that it no longer is silenced by an extension gem such
as rspec-rails when it calls <code>config.add_stub_and_should_receive_to</code>.
(Sam Phippen)</li>
<li>Fix <code>expect</code> syntax so that it does not wrongly emit a &quot;You&#39;re
overriding a previous implementation for this stub&quot; warning when
you are not actually doing that. (Myron Marston)</li>
<li>Fix <code>any_instance.unstub</code> when used on sub classes for whom the super
class has had <code>any_instance.stub</code> invoked on. (Jon Rowe)</li>
<li>Fix regression in <code>stub_chain</code>/<code>receive_message_chain</code> that caused
it to raise an <code>ArgumentError</code> when passing args to the stubbed
methods. (Sam Phippen)</li>
<li>Correct stub of undefined parent modules all the way down when stubbing a
nested constant. (Xavier Shay)</li>
<li>Raise <code>VerifyingDoubleNotDefinedError</code> when a constant is not defined for
a verifying class double. (Maurício Linhares)</li>
<li>Remove <code>Double#to_str</code>, which caused confusing <code>raise some_double</code>
behavior. (Maurício Linhares)</li>
</ul>
<h3 id="3-0-0-beta1-2013-11-07">3.0.0.beta1 / 2013-11-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.4...v3.0.0.beta1">Full Changelog</a></p>
<p>Breaking Changes for 3.0.0:</p>
<ul>
<li>Raise an explicit error if <code>should_not_receive(...).and_return</code> is used. (Sam
Phippen)</li>
<li>Remove 1.8.6 workarounds. (Jon Rowe)</li>
<li>Remove <code>stub!</code> and <code>unstub!</code>. (Sam Phippen)</li>
<li>Remove <code>mock(name, methods)</code> and <code>stub(name, methods)</code>, leaving
<code>double(name, methods)</code> for creating test doubles. (Sam Phippen, Michi Huber)</li>
<li>Remove <code>any_number_of_times</code> since <code>should_receive(:msg).any_number_of_times</code>
is really a stub in a mock&#39;s clothing. (Sam Phippen)</li>
<li>Remove support for re-using the same null-object test double in multiple
examples.  Test doubles are designed to only live for one example.
(Myron Marston)</li>
<li>Make <code>at_least(0)</code> raise an error. (Sam Phippen)</li>
<li>Remove support for <code>require &#39;spec/mocks&#39;</code> which had been kept
in place for backwards compatibility with RSpec 1. (Myron Marston)</li>
<li>Blocks provided to <code>with</code> are always used as implementation. (Xavier Shay)</li>
<li>The config option (added in 2.99) to yield the receiver to
<code>any_instance</code> implementation blocks now defaults to &quot;on&quot;. (Sam Phippen)</li>
</ul>
<p>Enhancements:</p>
<ul>
<li>Allow the <code>have_received</code> matcher to use a block to set further expectations
on arguments. (Tim Cowlishaw)</li>
<li>Provide <code>instance_double</code> and <code>class_double</code> to create verifying doubles,
ported from <code>rspec-fire</code>. (Xavier Shay)</li>
<li><code>as_null_object</code> on a verifying double only responds to defined methods.
(Xavier Shay)</li>
<li>Provide <code>object_double</code> to create verified doubles of specific object
instances. (Xavier Shay)</li>
<li>Provide <code>verify_partial_doubles</code> configuration that provides <code>object_double</code>
like verification behaviour on partial doubles. (Xavier Shay)</li>
<li>Improved performance of double creation, particularly those with many
attributes. (Xavier Shay)</li>
<li>Default value of <code>transfer_nested_constants</code> option for constant stubbing can
be configured. (Xavier Shay)</li>
<li>Messages can be allowed or expected on in bulk via
<code>receive_messages(:message =&gt; :value)</code>. (Jon Rowe)</li>
<li><code>allow(Klass.any_instance)</code> and <code>expect(Klass.any_instance)</code> now print a
warning. This is usually a mistake, and users usually want
<code>allow_any_instance_of</code> or <code>expect_any_instance_of</code> instead. (Sam Phippen)</li>
<li><code>instance_double</code> and <code>class_double</code> raise <code>ArgumentError</code> if the underlying
module is loaded and the arity of the method being invoked does not match the
arity of the method as it is actually implemented. (Andy Lindeman)</li>
<li>Spies can now check their invocation ordering is correct. (Jon Rowe)</li>
</ul>
<p>Deprecations:</p>
<ul>
<li>Using the old <code>:should</code> syntax without explicitly configuring it
is deprecated. It will continue to work but will emit a deprecation
warning in RSpec 3 if you do not explicitly enable it. (Sam Phippen)</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>and_call_original</code> to handle a complex edge case involving
singleton class ancestors. (Marc-André Lafortune, Myron Marston)</li>
<li>When generating an error message for unexpected arguments,
use <code>#inspect</code> rather than <code>#description</code> if <code>#description</code>
returns <code>nil</code> or <code>&#39;&#39;</code> so that you still get a useful message.
(Nick DeLuca)</li>
</ul>
<h3 id="2-99-4-2015-06-19">2.99.4 / 2015-06-19</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.3...v2.99.4">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Add missing deprecation for using <code>with</code> with no arguments e.g. <code>with()</code>. (Yousuke, #970)</li>
</ul>
<h3 id="2-99-3-2015-01-09">2.99.3 / 2015-01-09</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.2...v2.99.3">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix regression that caused an error when a test double was deserialized from YAML. (Yuji Nakayama, #777)</li>
</ul>
<h3 id="2-99-2-2014-07-21">2.99.2 / 2014-07-21</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.1...v2.99.2">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Warn about upcoming change to <code>#===</code> matching and <code>DateTime#===</code> behaviour.
(Jon Rowe, #735)</li>
</ul>
<h3 id="2-99-1-2014-06-12">2.99.1 / 2014-06-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.0...v2.99.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix bug that caused errors at the end of each example
when a <code>double.as_null_object</code> had been frozen. (Yuji Nakayama, #698)</li>
</ul>
<p>Deprecations:</p>
<ul>
<li>Deprecate freezing a test double. (Yuji Nakayama, #698)</li>
</ul>
<h3 id="2-99-0-2014-06-01">2.99.0 / 2014-06-01</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.0.rc1...v2.99.0">Full Changelog</a></p>
<p>No changes. Just taking it out of pre-release.</p>
<h3 id="2-99-0-rc1-2014-05-18">2.99.0.rc1 / 2014-05-18</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.0.beta2...v2.99.0.rc1">Full Changelog</a></p>
<p>Deprecations:</p>
<ul>
<li>Deprecate <code>RSpec::Mocks::TestDouble.extend_onto</code>. (Myron Marston)</li>
<li>Deprecate <code>RSpec::Mocks::ConstantStubber</code>. (Jon Rowe)</li>
<li>Deprecate <code>Marshal.dump</code> monkey-patch without opt-in. (Xavier Shay)</li>
</ul>
<h3 id="2-99-0-beta2-2014-02-17">2.99.0.beta2 / 2014-02-17</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.99.0.beta1...v2.99.0.beta2">Full Changelog</a></p>
<p>Deprecations:</p>
<ul>
<li>Deprecate <code>RSpec::Mocks::Mock</code> in favor of <code>RSpec::Mocks::Double</code>.
(Myron Marston)</li>
<li>Deprecate the <code>host</code> argument of <code>RSpec::Mocks.setup</code>. Instead
<code>RSpec::Mocks::ExampleMethods</code> should be included directly in the scope where
RSpec&#39;s mocking capabilities are used. (Sam Phippen)</li>
<li>Deprecate using any of rspec-mocks&#39; features outside the per-test
lifecycle (e.g. from a <code>before(:all)</code> hook). (Myron Marston)</li>
<li>Deprecate re-using a test double in another example. (Myron Marston)</li>
<li>Deprecate <code>and_return { value }</code> and <code>and_return</code> without arguments. (Yuji Nakayama)</li>
</ul>
<h3 id="2-99-0-beta1-2013-11-07">2.99.0.beta1 / 2013-11-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.4...v2.99.0.beta1">Full Changelog</a></p>
<p>Deprecations</p>
<ul>
<li>Expecting to use lambdas or other strong arity implementations for stub
methods with mis-matched arity is deprecated and support for them will be
removed in 3.0. Either provide the right amount of arguments or use a weak
arity implementation (methods with splats or procs). (Jon Rowe)</li>
<li>Using the same test double instance in multiple examples is deprecated. Test
doubles are only meant to live for one example. The mocks and stubs have
always been reset between examples; however, in 2.x the <code>as_null_object</code>
state was not reset and some users relied on this to have a null object
double that is used for many examples. This behavior will be removed in 3.0.
(Myron Marston)</li>
<li>Print a detailed warning when an <code>any_instance</code> implementation block is used
when the new <code>yield_receiver_to_any_instance_implementation_blocks</code> config
option is not explicitly set, as RSpec 3.0 will default to enabling this new
feature. (Sam Phippen)</li>
</ul>
<p>Enhancements:</p>
<ul>
<li>Add a config option to yield the receiver to <code>any_instance</code> implementation
blocks. (Sam Phippen)</li>
</ul>
<h3 id="2-14-6-2014-02-20">2.14.6 / 2014-02-20</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.5...v2.14.6">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Ensure <code>any_instance</code> method stubs and expectations are torn down regardless of
expectation failures. (Sam Phippen)</li>
</ul>
<h3 id="2-14-5-2014-02-01">2.14.5 / 2014-02-01</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.4...v2.14.5">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix regression that caused block implementations to not receive all
args on 1.8.7 if the block also receives a block, due to Proc#arity
reporting <code>1</code> no matter how many args the block receives if it
receives a block, too. (Myron Marston)</li>
</ul>
<h3 id="2-14-4-2013-10-15">2.14.4 / 2013-10-15</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.3...v2.14.4">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix issue where unstubing methods on &quot;any instances&quot; would not
remove stubs on existing instances (Jon Rowe)</li>
<li>Fix issue with receive(:message) do ... end precedence preventing
the usage of modifications (<code>and_return</code> etc) (Jon Rowe)</li>
</ul>
<h3 id="2-14-3-2013-08-08">2.14.3 / 2013-08-08</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.2...v2.14.3">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix stubbing some instance methods for classes whose hierarchy includes
a prepended Module (Bradley Schaefer)</li>
</ul>
<h3 id="2-14-2-2013-07-30">2.14.2 / 2013-07-30</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.1...v2.14.2">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>as_null_object</code> doubles so that they return <code>nil</code> from <code>to_ary</code>
(Jon Rowe).</li>
<li>Fix regression in 2.14 that made <code>stub!</code> (with an implicit receiver)
return a test double rather than stub a method (Myron Marston).</li>
</ul>
<h3 id="2-14-1-2013-07-07">2.14.1 / 2013-07-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.0...v2.14.1">Full Changelog</a></p>
<p>Bug Fixes:</p>
<ul>
<li>Restore <code>double.as_null_object</code> behavior from 2.13 and earlier: a
double&#39;s nullness persisted between examples in earlier examples.
While this is not an intended use case (test doubles are meant to live
for only one example), we don&#39;t want to break behavior users rely
on in a minor relase.  This will be deprecated in 2.99 and removed
in 3.0. (Myron Marston)</li>
</ul>
<h3 id="2-14-0-2013-07-06">2.14.0 / 2013-07-06</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.14.0.rc1...v2.14.0">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Document test spies in the readme. (Adarsh Pandit)</li>
<li>Add an <code>array_including</code> matcher. (Sam Phippen)</li>
<li>Add a syntax-agnostic API for mocking or stubbing a method. This is
intended for use by libraries such as rspec-rails that need to mock
or stub a method, and work regardless of the syntax the user has
configured (Paul Annesley, Myron Marston and Sam Phippen).</li>
</ul>
<p>Bug Fixes:</p>
<ul>
<li>Fix <code>double</code> so that it sets up passed stubs correctly regardless of
the configured syntax (Paul Annesley).</li>
<li>Allow a block implementation to be used in combination with
<code>and_yield</code>, <code>and_raise</code>, <code>and_return</code> or <code>and_throw</code>. This got fixed
in 2.13.1 but failed to get merged into master for the 2.14.0.rc1
release (Myron Marston).</li>
<li><code>Marshal.dump</code> does not unnecessarily duplicate objects when rspec-mocks has
not been fully initialized. This could cause errors when using <code>spork</code> or
similar preloading gems (Andy Lindeman).</li>
</ul>
<h3 id="2-14-0-rc1-2013-05-27">2.14.0.rc1 / 2013-05-27</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.13.0...v2.14.0.rc1">Full Changelog</a></p>
<p>Enhancements:</p>
<ul>
<li>Refactor internals so that the mock proxy methods and state are held
outside of the mocked object rather than inside it. This paves the way
for future syntax enhancements and removes the need for some hacky
work arounds for <code>any_instance</code> dup&#39;ing and <code>YAML</code> serialization,
among other things. Note that the code now relies upon <code>__id__</code>
returning a unique, consistent value for any object you want to
mock or stub (Myron Marston).</li>
<li>Add support for test spies. This allows you to verify a message
was received afterwards using the <code>have_received</code> matcher.
Note that you must first stub the method or use a null double.
(Joe Ferris and Joël Quenneville)</li>
<li>Make <code>at_least</code> and <code>at_most</code> style receive expectations print that they were
expecting at least or at most some number of calls, rather than just the
number of calls given in the expectation (Sam Phippen)</li>
<li>Make <code>with</code> style receive expectations print the args they were expecting, and
the args that they got (Sam Phippen)</li>
<li>Fix some warnings seen under ruby 2.0.0p0 (Sam Phippen).</li>
<li>Add a new <code>:expect</code> syntax for message expectations
(Myron Marston and Sam Phippen).</li>
</ul>
<p>Bug fixes</p>
<ul>
<li>Fix <code>any_instance</code> so that a frozen object can be <code>dup</code>&#39;d when methods
have been stubbed on that type using <code>any_instance</code> (Jon Rowe).</li>
<li>Fix <code>and_call_original</code> so that it properly raises an <code>ArgumentError</code>
when the wrong number of args are passed (Jon Rowe).</li>
<li>Fix <code>double</code> on 1.9.2 so you can wrap them in an Array
using <code>Array(my_double)</code> (Jon Rowe).</li>
<li>Fix <code>stub_const</code> and <code>hide_const</code> to handle constants that redefine <code>send</code>
(Sam Phippen).</li>
<li>Fix <code>Marshal.dump</code> extension so that it correctly handles nil.
(Luke Imhoff, Jon Rowe)</li>
<li>Fix isolation of <code>allow_message_expectations_on_nil</code> (Jon Rowe)</li>
<li>Use inspect to format actual arguments on expectations in failure messages (#280, Ben Langfeld)</li>
<li>Protect against improperly initialised test doubles (#293) (Joseph Shraibman and Jon Rowe)</li>
</ul>
<p>Deprecations</p>
<ul>
<li>Deprecate <code>stub</code> and <code>mock</code> as aliases for <code>double</code>. <code>double</code> is the
best term for creating a test double, and it reduces confusion to
have only one term (Michi Huber).</li>
<li>Deprecate <code>stub!</code> and <code>unstub!</code> in favor of <code>stub</code> and <code>unstub</code>
(Jon Rowe).</li>
<li>Deprecate <code>at_least(0).times</code> and <code>any_number_of_times</code> (Michi Huber).</li>
</ul>
<h3 id="2-13-1-2013-04-06">2.13.1 / 2013-04-06</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.13.0...v2.13.1">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Allow a block implementation to be used in combination with
<code>and_yield</code>, <code>and_raise</code>, <code>and_return</code> or <code>and_throw</code> (Myron Marston).</li>
</ul>
<h3 id="2-13-0-2013-02-23">2.13.0 / 2013-02-23</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.12.2...v2.13.0">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix bug that caused weird behavior when a method that had
previously been stubbed with multiple return values (e.g.
<code>obj.stub(:foo).and_return(1, 2)</code>) was later mocked with a
single return value (e.g. <code>obj.should_receive(:foo).once.and_return(1)</code>).
(Myron Marston)</li>
<li>Fix bug related to a mock expectation for a method that already had
multiple stubs with different <code>with</code> constraints. Previously, the
first stub was used, even though it may not have matched the passed
args. The fix defers this decision until the message is received so
that the proper stub response can be chosen based on the passed
arguments (Myron Marston).</li>
<li>Do not call <code>nil?</code> extra times on a mocked object, in case <code>nil?</code>
itself is expected a set number of times (Myron Marston).</li>
<li>Fix <code>missing_default_stub_error</code> message so array args are handled
properly (Myron Marston).</li>
<li>Explicitly disallow <code>any_instance.unstub!</code> (Ryan Jones).</li>
<li>Fix <code>any_instance</code> stubbing so that it works with <code>Delegator</code>
subclasses (Myron Marston).</li>
<li>Fix <code>and_call_original</code> so that it works with <code>Delegator</code> subclasses
(Myron Marston).</li>
<li>Fix <code>any_instance.should_not_receive</code> when <code>any_instance.should_receive</code>
is used on the same class in the same example. Previously it would
wrongly report a failure even when the message was not received
(Myron Marston).</li>
</ul>
<h3 id="2-12-2-2013-01-27">2.12.2 / 2013-01-27</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.12.1...v.2.12.2">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix <code>and_call_original</code> to work properly for methods defined
on a module extended onto an object instance (Myron Marston).</li>
<li>Fix <code>stub_const</code> with an undefined constnat name to work properly
with constant strings that are prefixed with <code>::</code> -- and edge case
I missed in the bug fix in the 2.12.1 release (Myron Marston).</li>
<li>Ensure method visibility on a partial mock is restored after reseting
method stubs, even on a singleton module (created via <code>extend self</code>)
when the method visibility differs between the instance and singleton
versions (Andy Lindeman).</li>
</ul>
<h3 id="2-12-1-2012-12-21">2.12.1 / 2012-12-21</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.12.0...v2.12.1">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix <code>any_instance</code> to support <code>and_call_original</code>.
(Myron Marston)</li>
<li>Properly restore stubbed aliased methods on rubies
that report the incorrect owner (Myron Marston and Andy Lindeman).</li>
<li>Fix <code>hide_const</code> and <code>stub_const</code> with a defined constnat name to
work properly with constant strings that are prefixed with <code>::</code> (Myron Marston).</li>
</ul>
<h3 id="2-12-0-2012-11-12">2.12.0 / 2012-11-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.11.3...v2.12.0">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li><code>and_raise</code> can accept an exception class and message, more closely
matching <code>Kernel#raise</code> (e.g., <code>foo.stub(:bar).and_raise(RuntimeError, &quot;message&quot;)</code>)
(Bas Vodde)</li>
<li>Add <code>and_call_original</code>, which will delegate the message to the
original method (Myron Marston).</li>
</ul>
<p>Deprecations:</p>
<ul>
<li>Add deprecation warning when using <code>and_return</code> with <code>should_not_receive</code>
(Neha Kumari)</li>
</ul>
<h3 id="2-11-3-2012-09-19">2.11.3 / 2012-09-19</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.11.2...v2.11.3">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix <code>:transfer_nested_constants</code> option of <code>stub_const</code> so that it
doesn&#39;t blow up when there are inherited constants. (Myron Marston)</li>
<li><code>any_instance</code> stubs can be used on classes that override <code>Object#method</code>.
(Andy Lindeman)</li>
<li>Methods stubbed with <code>any_instance</code> are unstubbed after the test finishes.
(Andy Lindeman)</li>
<li>Fix confusing error message when calling a mocked class method an
extra time with the wrong arguments (Myron Marston).</li>
</ul>
<h3 id="2-11-2-2012-08-11">2.11.2 / 2012-08-11</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.11.1...v2.11.2">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Don&#39;t modify <code>dup</code> on classes that don&#39;t support <code>dup</code> (David Chelimsky)</li>
<li>Fix <code>any_instance</code> so that it works properly with methods defined on
a superclass. (Daniel Eguzkiza)</li>
<li>Fix <code>stub_const</code> so that it works properly for nested constants that
share a name with a top-level constant (e.g. &quot;MyGem::Hash&quot;). (Myron
Marston)</li>
</ul>
<h3 id="2-11-1-2012-07-09">2.11.1 / 2012-07-09</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.11.0...v2.11.1">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix <code>should_receive</code> so that when it is called on an <code>as_null_object</code>
double with no implementation, and there is a previous explicit stub
for the same method, the explicit stub remains (rather than being
overridden with the null object implementation--<code>return self</code>). (Myron
Marston)</li>
</ul>
<h3 id="2-11-0-2012-07-07">2.11.0 / 2012-07-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.10.1...v2.11.0">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>Expose ArgumentListMatcher as a formal API
<ul>
<li>supports use by 3rd party mock frameworks like Surrogate</li>
</ul></li>
<li>Add <code>stub_const</code> API to stub constants for the duration of an
example (Myron Marston).</li>
</ul>
<p>Bug fixes</p>
<ul>
<li>Fix regression of edge case behavior. <code>double.should_receive(:foo) { a }</code>
was causing a NoMethodError when <code>double.stub(:foo).and_return(a, b)</code>
had been setup before (Myron Marston).</li>
<li>Infinite loop generated by using <code>any_instance</code> and <code>dup</code>. (Sidu Ponnappa @kaiwren)</li>
<li><code>double.should_receive(:foo).at_least(:once).and_return(a)</code> always returns a
even if <code>:foo</code> is already stubbed.</li>
<li>Prevent infinite loop when interpolating a null double into a string
as an integer (<code>&quot;%i&quot; % double.as_null_object</code>). (Myron Marston)</li>
<li>Fix <code>should_receive</code> so that null object behavior (e.g. returning
self) is preserved if no implementation is given (Myron Marston).</li>
<li>Fix <code>and_raise</code> so that it raises <code>RuntimeError</code> rather than
<code>Exception</code> by default, just like ruby does. (Andrew Marshall)</li>
</ul>
<h3 id="2-10-1-2012-05-05">2.10.1 / 2012-05-05</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.10.0...v2.10.1">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>fix regression of edge case behavior
(<a href="https://github.com/rspec/rspec-mocks/issues/132">https://github.com/rspec/rspec-mocks/issues/132</a>)
<ul>
<li>fixed failure of <code>object.should_receive(:message).at_least(0).times.and_return value</code></li>
<li>fixed failure of <code>object.should_not_receive(:message).and_return value</code></li>
</ul></li>
</ul>
<h3 id="2-10-0-2012-05-03">2.10.0 / 2012-05-03</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.9.0...v2.10.0">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>fail fast when an <code>exactly</code> or <code>at_most</code> expectation is exceeded</li>
</ul>
<h3 id="2-9-0-2012-03-17">2.9.0 / 2012-03-17</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.8.0...v2.9.0">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>Support order constraints across objects (preethiramdev)</li>
</ul>
<p>Bug fixes</p>
<ul>
<li>Allow a <code>as_null_object</code> to be passed to <code>with</code></li>
<li>Pass proc to block passed to stub (Aubrey Rhodes)</li>
<li>Initialize child message expectation args to match any args (#109 -
preethiramdev)</li>
</ul>
<h3 id="2-8-0-2012-01-04">2.8.0 / 2012-01-04</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.8.0.rc2...v2.8.0">Full Changelog</a></p>
<p>No changes for this release. Just releasing with the other rspec gems.</p>
<h3 id="2-8-0-rc2-2011-12-19">2.8.0.rc2 / 2011-12-19</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.8.0.rc1...v2.8.0.rc2">Full Changelog</a></p>
<p>No changes for this release. Just releasing with the other rspec gems.</p>
<h3 id="2-8-0-rc1-2011-11-06">2.8.0.rc1 / 2011-11-06</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.7.0...v2.8.0.rc1">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>Eliminate Ruby warnings (Matijs van Zuijlen)</li>
</ul>
<h3 id="2-7-0-2011-10-16">2.7.0 / 2011-10-16</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.6.0...v2.7.0">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>Use <code>__send__</code> rather than <code>send</code> (alextk)</li>
<li>Add support for <code>any_instance.stub_chain</code> (Sidu Ponnappa)</li>
<li>Add support for <code>any_instance</code> argument matching based on <code>with</code> (Sidu
Ponnappa and Andy Lindeman)</li>
</ul>
<p>Changes</p>
<ul>
<li>Check for <code>failure_message_for_should</code> or <code>failure_message</code> instead of
<code>description</code> to detect a matcher (Tibor Claassen)</li>
</ul>
<p>Bug fixes</p>
<ul>
<li>pass a hash to <code>any_instance.stub</code>. (Justin Ko)</li>
<li>allow <code>to_ary</code> to be called without raising <code>NoMethodError</code> (Mikhail
Dieterle)</li>
<li><code>any_instance</code> properly restores private methods (Sidu Ponnappa)</li>
</ul>
<h3 id="2-6-0-2011-05-12">2.6.0 / 2011-05-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.5.0...v2.6.0">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>Add support for <code>any_instance.stub</code> and <code>any_instance.should_receive</code> (Sidu
Ponnappa and Andy Lindeman)</li>
</ul>
<p>Bug fixes</p>
<ul>
<li>fix bug in which multiple chains with shared messages ending in hashes failed
to return the correct value</li>
</ul>
<h3 id="2-5-0-2011-02-05">2.5.0 / 2011-02-05</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.4.0...v2.5.0">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>message expectation counts now work in combination with a stub (Damian
Nurzynski)</li>
<li>fix failure message when message received with incorrect args (Josep M.
Bach)</li>
</ul>
<h3 id="2-4-0-2011-01-02">2.4.0 / 2011-01-02</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.3.0...v2.4.0">Full Changelog</a></p>
<p>No functional changes in this release, which was made to align with the
rspec-core-2.4.0 release.</p>
<h3 id="2-3-0-2010-12-12">2.3.0 / 2010-12-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.2.0...v2.3.0">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix our Marshal extension so that it does not interfere with objects that
have their own <code>@mock_proxy</code> instance variable. (Myron Marston)</li>
</ul>
<h3 id="2-2-0-2010-11-28">2.2.0 / 2010-11-28</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.1.0...v2.2.0">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>Added &quot;rspec/mocks/standalone&quot; for exploring the rspec-mocks in irb.</li>
</ul>
<p>Bug fix</p>
<ul>
<li>Eliminate warning on splat args without parens (Gioele Barabucci)</li>
<li>Fix bug where <code>obj.should_receive(:foo).with(stub.as_null_object)</code> would pass
with a false positive.</li>
</ul>
<h3 id="2-1-0-2010-11-07">2.1.0 / 2010-11-07</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.0.1...v2.1.0">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>Fix serialization of stubbed object (Josep M Bach)</li>
</ul>
<h3 id="2-0-0-2010-10-10">2.0.0 / 2010-10-10</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.0.0.beta.22...v2.0.0">Full Changelog</a></p>
<h3 id="2-0-0-rc-2010-10-05">2.0.0.rc / 2010-10-05</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.0.0.beta.22...v2.0.0.rc">Full Changelog</a></p>
<p>Enhancements</p>
<ul>
<li>support passing a block to an expectation block (Nicolas Braem)
<ul>
<li><code>obj.should_receive(:msg) {|&amp;block| ... }</code></li>
</ul></li>
</ul>
<p>Bug fixes</p>
<ul>
<li>Fix YAML serialization of stub (Myron Marston)</li>
<li>Fix rdoc rake task (Hans de Graaff)</li>
</ul>
<h3 id="2-0-0-beta-22-2010-09-12">2.0.0.beta.22 / 2010-09-12</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v2.0.0.beta.20...v2.0.0.beta.22">Full Changelog</a></p>
<p>Bug fixes</p>
<ul>
<li>fixed regression that broke <code>obj.stub_chain(:a, :b =&gt; :c)</code></li>
<li>fixed regression that broke <code>obj.stub_chain(:a, :b) { :c }</code></li>
<li><code>respond_to?</code> always returns true when using <code>as_null_object</code></li>
</ul>
</div></div>
      <div id="footer">
  Generated on Wed Sep  4 15:23:12 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.2.2).
</div>
    </div>
  </body>
</html>