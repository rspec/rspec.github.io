<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: RSpec::Core::Metadata
    &mdash; Documentation by YARD 0.9.36
</title>
  <link rel="stylesheet" href="/documentation/3.13/rspec-core/css/style.css" type="text/css" />
  <link rel="stylesheet" href="/documentation/3.13/rspec-core/css/common.css" type="text/css" />
<script type="text/javascript">
  pathId = "RSpec::Core::Metadata";
  relpath = '../../';
</script>
  <script type="text/javascript" charset="utf-8" src="/documentation/3.13/rspec-core/js/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="/documentation/3.13/rspec-core/js/app.js"></script>
  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>
    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
    <a href="../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Core.html" title="RSpec::Core (module)">Core</a></span></span>
     &raquo; 
    <span class="title">Metadata</span>
</div>
        <div id="search">
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
</div>
        <div class="clear"></div>
      </div>
      <div id="content"><h1>Module: RSpec::Core::Metadata
</h1>
<div class="box_info">
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rspec/core/metadata.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Each ExampleGroup class and Example instance owns an instance of
Metadata, which is Hash extended to support lazy evaluation of values
associated with keys that may or may not be used by any example or group.</p>
<p>In addition to metadata that is used internally, this also stores
user-supplied metadata, e.g.</p>
<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='period'>.</span><span class='id identifier rubyid_describe'>describe</span> <span class='const'>Something</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:ui</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does something</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:slow</span> <span class='op'>=&gt;</span> <span class='kw'>true</span> <span class='kw'>do</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>
<p><code>:type =&gt; :ui</code> is stored in the Metadata owned by the example group, and
<code>:slow =&gt; true</code> is stored in the Metadata owned by the example. These can
then be used to select which examples are run using the <code>--tag</code> option on
the command line, or several methods on <code>Configuration</code> used to filter a
run (e.g. <code>filter_run_including</code>, <code>filter_run_excluding</code>, etc).</p>
  </div>
</div>
<div class="tags">
  <p class="tag_title">See Also:</p>
  <ul class="see">
      <li><span class='object_link'><a href="Example.html#metadata-instance_method" title="RSpec::Core::Example#metadata (method)">Example#metadata</a></span></li>
      <li><span class='object_link'><a href="ExampleGroup.html#metadata-class_method" title="RSpec::Core::ExampleGroup.metadata (method)">ExampleGroup.metadata</a></span></li>
      <li><span class='object_link'>FilterManager</span></li>
      <li><span class='object_link'><a href="Configuration.html#filter_run_including-instance_method" title="RSpec::Core::Configuration#filter_run_including (method)">Configuration#filter_run_including</a></span></li>
      <li><span class='object_link'><a href="Configuration.html#filter_run_excluding-instance_method" title="RSpec::Core::Configuration#filter_run_excluding (method)">Configuration#filter_run_excluding</a></span></li>
  </ul>
</div>
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>
    <ul class="summary">
        <li class="public ">
  <span class="summary_signature">
      <a href="#relative_path-class_method" title="relative_path (class method)">.<strong>relative_path</strong>(line)  &#x21d2; String </a>
  </span>
  <span class="private note title">private</span>
    <span class="summary_desc"><div class='inline'><p>Relative path to line.</p>
</div></span>
</li>
        <li class="public ">
  <span class="summary_signature">
      <a href="#relative_path_regex-class_method" title="relative_path_regex (class method)">.<strong>relative_path_regex</strong>  &#x21d2; void </a>
  </span>
    <span class="summary_desc"><div class='inline'><p>Matches strings either at the beginning of the input or prefixed with a whitespace, containing the current path, either postfixed with the separator, or at the end of the string.</p>
</div></span>
</li>
    </ul>
  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
      <div class="method_details first">
  <h3 class="signature first" id="relative_path-class_method">
    .<strong>relative_path</strong>(line)  &#x21d2; <tt>String</tt> 
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns relative path to line.</p>
  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
    <li>
        <span class='name'>line</span>
        <span class='type'>(<tt>String</tt>)</span>
        &mdash;
        <div class='inline'><p>current code line</p>
</div>
    </li>
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
    <li>
        <span class='type'>(<tt>String</tt>)</span>
        &mdash;
        <div class='inline'><p>relative path to line</p>
</div>
    </li>
</ul>
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">
44
45
46
47
48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/core/metadata.rb', line 44</span>
<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relative_path'>relative_path</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_relative_path_regex'>relative_path_regex</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1.\\2</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([^:]+:\d+)$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\1</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e:1</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='id identifier rubyid_line'>line</span>
<span class='kw'>rescue</span> <span class='const'>SecurityError</span>
  <span class='comment'># :nocov:
</span>  <span class='kw'>nil</span>
  <span class='comment'># :nocov:
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
      <div class="method_details ">
  <h3 class="signature " id="relative_path_regex-class_method">
    .<strong>relative_path_regex</strong>  &#x21d2; <tt>void</tt> 
</h3><div class="docstring">
  <div class="discussion">
    <p>Matches strings either at the beginning of the input or prefixed with a
whitespace, containing the current path, either postfixed with the
separator, or at the end of the string. Match groups are the character
before and the character after the string if any.</p>
<p><a href="http://rubular.com/r/fT0gmX6VJX">http://rubular.com/r/fT0gmX6VJX</a>
<a href="http://rubular.com/r/duOrD4i3wb">http://rubular.com/r/duOrD4i3wb</a>
<a href="http://rubular.com/r/sbAMHFrOx1">http://rubular.com/r/sbAMHFrOx1</a></p>
  </div>
</div>
<div class="tags">
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/core/metadata.rb', line 36</span>
<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relative_path_regex'>relative_path_regex</span>
  <span class='ivar'>@relative_path_regex</span> <span class='op'>||=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\A|\s)</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='op'>::</span><span class='const'>SEPARATOR</span><span class='embexpr_end'>}</span><span class='tstring_content'>|\s|\Z)</span><span class='regexp_end'>/</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  </div>
</div>
      <div id="footer">
  Generated on Tue Sep  3 11:00:22 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.36 (ruby-3.2.2).
</div>
    </div>
  </body>
</html>